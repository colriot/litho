(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{151:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return u})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return l}));var r=n(2),i=n(6),o=(n(0),n(161)),a=n(163),s={id:"tests-in-android-studio",title:"Testing in Android Studio"},u={unversionedId:"testing/tests-in-android-studio",id:"testing/tests-in-android-studio",isDocsHomePage:!1,title:"Testing in Android Studio",description:"Moved from old website without any change.",source:"@site/docs/testing/tests-in-android-studio.mdx",slug:"/testing/tests-in-android-studio",permalink:"/docs/testing/tests-in-android-studio",editUrl:"https://github.com/facebook/litho/edit/master/website/docs/testing/tests-in-android-studio.mdx",version:"current",sidebar:"mainSidebar",previous:{title:"End-to-End Tests",permalink:"/docs/testing/espresso-testing"},next:{title:"Animation basics",permalink:"/docs/animations/transition-basics"}},c=[],d={rightToc:c};function l(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("div",{className:"admonition admonition-danger alert alert--danger"},Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"Content needs to be updated")),Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Moved from old website without any change."))),Object(o.b)("p",null,"The Litho repository can be used with both Buck and Gradle. The Buck plugin for\nAndroid Studio has support for running tests by simply clicking next to a tests\nmethod and requires no further configuration."),Object(o.b)("p",null,"Gradle, however, can be a bit tricky to convince to run our tests due to\nour use of native libraries. When running a test, you may see an error\nmessage complaining about ",Object(o.b)("inlineCode",{parentName:"p"},"libyoga")," like this:"),Object(o.b)("img",{src:Object(a.a)("/images/android-studio-tests-0.png"),width:"800px"}),Object(o.b)("p",null,"However, you can easily fix those loading issues by modifying the test settings.\nFirst, add ",Object(o.b)("inlineCode",{parentName:"p"},"-Djava.library.path=build/jniLibs"),' to the "VM Options" of your run\nconfiguration. Then, add the environment variables corresponding to your\nplatform:'),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"DYLD_LIBRARY_PATH=build/jniLibs")," for MacOS, or"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"LD_LIBRARY_PATH=build/jniLibs")," for Linux.")),Object(o.b)("p",null,"The end result should look like this:"),Object(o.b)("img",{src:Object(a.a)("/images/android-studio-tests-1.png"),width:"800px"}),Object(o.b)("p",null,"Afterwards, you should be able to run your tests and see the results directly in\nAndroid Studio. Added benefit: You can continuously run tests in the background\non every change or manually rerun them by pressing ",Object(o.b)("inlineCode",{parentName:"p"},"Ctrl+Shift+F10")," by default."),Object(o.b)("img",{src:Object(a.a)("/images/android-studio-tests-2.png"),width:"800px"}),Object(o.b)("p",null,"When this works for you, make sure to update the default settings as well so you\ndon't need to enter those settings again for every new test you run:"),Object(o.b)("img",{src:Object(a.a)("/images/android-studio-tests-3.png"),width:"800px"}))}l.isMDXComponent=!0},161:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(0),i=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=i.a.createContext({}),d=function(e){var t=i.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=d(e.components);return i.a.createElement(c.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},p=i.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,a=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),l=d(n),p=r,f=l["".concat(a,".").concat(p)]||l[p]||b[p]||o;return n?i.a.createElement(f,s(s({ref:t},c),{},{components:n})):i.a.createElement(f,s({ref:t},c))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=p;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var c=2;c<o;c++)a[c]=n[c];return i.a.createElement.apply(null,a)}return i.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},162:function(e,t,n){"use strict";var r=n(0),i=n(20);t.a=function(){var e=Object(r.useContext)(i.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},163:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(162),i=n(164);function o(){var e=Object(r.a)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,o=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,r){var o=void 0===r?{}:r,a=o.forcePrependBaseUrl,s=void 0!==a&&a,u=o.absolute,c=void 0!==u&&u;if(!n)return n;if(n.startsWith("#"))return n;if(Object(i.b)(n))return n;if(s)return t+n;var d=!n.startsWith(t)?t+n.replace(/^\//,""):n;return c?e+d:d}(o,n,e,t)}}}function a(e,t){return void 0===t&&(t={}),(0,o().withBaseUrl)(e,t)}},164:function(e,t,n){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function i(e){return void 0!==e&&!r(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))}}]);